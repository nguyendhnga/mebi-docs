<!DOCTYPE html>
<html lang="vi" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mebi Docs Hub</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
  <style>
    :root {
      --primary: #1db954;
      --background-color: #191c1f;
      --container-background: #23272c;
      --border-radius: 12px;
    }
    body { background: var(--background-color); }
    main.container { padding: 2.5rem 0 2rem 0; }
    section.docs-list {
      margin-top: 1.5rem;
      background: var(--container-background);
      border-radius: var(--border-radius);
      padding: 2rem 1.5rem;
    }
.mebi-logo-block {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 2.5rem 0 2rem 0;
  gap: 0.7em;
}
.mebi-logo-block img {
  background: transparent !important;
  border-radius: 12px;
  box-shadow: 0 4px 18px 0 #1db95418;
}
.mebi-logo-block figcaption {
  margin-top: 0.5em;
  font-size: 1.12em;
  color: var(--primary);
  font-weight: 500;
  text-align: center;
}    
.phase-group { margin-bottom: 2rem; }
    .phase-title { color: var(--primary); margin-bottom: .7rem; }
    .docs-card {
      background: #212529;
      border-radius: var(--border-radius);
      padding: 1rem 1.2rem;
      margin-bottom: 1rem;
      display: flex; gap: 1.2rem; align-items: center;
      border: 1px solid #22282f;
    }
    .docs-card img {
      width: 56px; height: 56px;
      object-fit: cover;
      border-radius: 10px;
      background: #181b1e;
    }
    .docs-meta { flex: 1; overflow: hidden; }
    .docs-meta h4 { margin: 0 0 4px 0; color: #fff; font-size: 1.07em; line-height: 1.2; }
    .docs-meta p { margin: 0 0 6px 0; font-size: 0.97em; color: #cccccc; }
    .docs-meta .badge {
      font-size: 0.81em; color: #fff; background: var(--primary);
      border-radius: 4px; padding: 0.15em 0.65em;
      margin-right: .3em; display: inline-block;
    }
    .docs-link { color: var(--primary); font-size: 1.2em; }
    @media (max-width: 600px) {
      .docs-card { flex-direction: column; align-items: flex-start; gap: .7rem; }
      .docs-card img { width: 44px; height: 44px; }
    }
    .search-bar { margin-bottom: 2rem; }
    main.container p {
      margin-bottom: 0.8em;
      margin-top: 0;
    }
    /* --- Password box center --- */
    #unlock-box {
      position: fixed;
      left: 0; right: 0; top: 0; bottom: 0;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      background: rgba(25,28,31,0.97);
      z-index: 99;
      min-height: 100vh;
    }
    #unlock-content {
      width: 370px;
      max-width: 96vw;
      padding: 2.2rem 2.1rem 2rem 2.1rem;
      border-radius: 16px;
      background: #23272c;
      box-shadow: 0 4px 28px 0 #000b;
      border: 1px solid #23272c;
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 1.1rem;
    }
    #unlock-content h2 {
      color: var(--primary);
      margin-bottom: 0.3em;
      font-size: 1.4em;
      line-height: 1.25;
      font-weight: 600;
      letter-spacing: 0.01em;
    }
    #unlock-content form input,
    #unlock-content form button {
      margin-bottom: 0.7em;
      font-size: 1.08em;
    }
    #unlock-content .unlock-err {
      color: #fa3d63;
      margin-top: 2px;
      min-height: 1.6em;
      font-size: .97em;
    }
    #unlock-content small {
      color: #aab9b4;
      display: block;
      margin-top: 0.7em;
      font-size: .96em;
    }
    .locked {
      filter: blur(2.2px);
      pointer-events: none;
      user-select: none;
    }
#unlock-content form {
  display: flex;
  flex-direction: column;
  gap: 0.7em;
  align-items: stretch;
}

#unlock-content input,
#unlock-content button {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}
  </style>
</head>
<body>
  <nav class="container-fluid">
    <ul>
      <li><strong>Mebi Docs Hub</strong></li>
    </ul>
    <ul>
      <li><a href="#">Trang ch·ªß</a></li>
      <li><a href="#docs">T√†i li·ªáu</a></li>
    </ul>
  </nav>

  <!-- PASSWORD FORM BOX -->
  <div id="unlock-box">
    <div id="unlock-content">
      <h2>üîí Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ truy c·∫≠p<br>t√†i li·ªáu</h2>
      <form id="unlock-form">
        <input type="password" id="unlock-password" placeholder="M·∫≠t kh·∫©u n·ªôi b·ªô..." autocomplete="off" required>
        <button type="submit">M·ªü kho√°</button>
      </form>
      <div class="unlock-err" id="unlock-err"></div>
      <small>Li√™n h·ªá tr∆∞·ªüng d·ª± √°n ƒë·ªÉ l·∫•y m·∫≠t kh·∫©u n·ªôi b·ªô.</small>
    </div>
  </div>

  <main class="container locked" id="main-content">
    <div class="grid">
      <section>
        <hgroup>
          <h2>Kho t√†i li·ªáu d·ª± √°n Mebi</h2>
          <h3>N∆°i l∆∞u tr·ªØ c√°c t√†i li·ªáu ƒë∆∞·ª£c ph√¢n lo·∫°i theo giai ƒëo·∫°n d·ª± √°n</h3>
        </hgroup>
        <p>ƒê√¢y l√† h·ªá th·ªëng l∆∞u tr·ªØ n·ªôi b·ªô c√°c t√†i li·ªáu quan tr·ªçng ph·ª•c v·ª• cho c√°c giai ƒëo·∫°n c·ªßa d·ª± √°n Mebi.</p>
        <figure class="mebi-logo-block">
  <img src="logo-mebi.png" alt="logo Mebi" class="playlist-thumb" style="max-width:140px;">
  <figcaption>
    <a href="#" target="_blank" style="color: var(--primary); text-decoration:none;">Mebi - H√†nh tr√¨nh ghi nh·∫≠n ƒëam m√™</a>
  </figcaption>
</figure>
        <h3 id="docs">T√¨m ki·∫øm & Danh s√°ch t√†i li·ªáu</h3>

<div class="search-bar" style="display: flex; gap: 1rem; flex-wrap: wrap;">
  <select id="phaseFilter" style="flex:1;min-width:180px;">
    <option value="">Giai ƒëo·∫°n (t·∫•t c·∫£)</option>
    <option value="MVP">MVP</option>
    <option value="Ch√≠nh th·ª©c - Giai ƒëo·∫°n 1">Ch√≠nh th·ª©c - Giai ƒëo·∫°n 1</option>
    <option value="Ch√≠nh th·ª©c - Giai ƒëo·∫°n 2">Ch√≠nh th·ª©c - Giai ƒëo·∫°n 2</option>
    <option value="Ch√≠nh th·ª©c - Giai ƒëo·∫°n 3">Ch√≠nh th·ª©c - Giai ƒëo·∫°n 3</option>
  </select>
  <select id="sectionFilter" style="flex:1;min-width:180px;">
    <option value="">Lo·∫°i t√†i li·ªáu (t·∫•t c·∫£)</option>
    <option value="Timeline">Timeline</option>
    <option value="Design">Design</option>
    <option value="Development">Development</option>
    <option value="H∆∞·ªõng d·∫´n">H∆∞·ªõng d·∫´n</option>
    <option value="Deploy">Deploy</option>
    <option value="Kh√°c">Kh√°c</option>
  </select>
  <input type="search" id="searchInput" placeholder="T√¨m ki·∫øm t√™n, m√¥ t·∫£..." aria-label="T√¨m ki·∫øm" style="flex:1;min-width:180px;">
</div>
        <section class="docs-list" id="docsList"></section>
      </section>
    </div>
  </main>


  <footer class="container">
    <small>
      <a href="#">Mebi Project</a> ‚Ä¢ <a href="#">Ch·ªâ s·ª≠ d·ª•ng n·ªôi b·ªô</a>
    </small>
  </footer>

  <script>
    // Password Gate
    const CORRECT_PASS = "mebi2024"; // ƒê·ªïi m·∫≠t kh·∫©u ·ªü ƒë√¢y!
    document.getElementById('unlock-form').onsubmit = function(e) {
      e.preventDefault();
      const pass = document.getElementById('unlock-password').value;
      if (pass === CORRECT_PASS) {
        document.getElementById('unlock-box').style.display = "none";
        document.getElementById('main-content').classList.remove('locked');
      } else {
        document.getElementById('unlock-err').textContent = "Sai m·∫≠t kh·∫©u. Vui l√≤ng th·ª≠ l·∫°i!";
        setTimeout(() => { document.getElementById('unlock-err').textContent = ""; }, 2500);
      }
    };

    // ==== ƒê·ªíNG B·ªò T·ª™ GOOGLE SHEET ====
    // Thay link b√™n d∆∞·ªõi b·∫±ng link opensheet.vercel.app c·ªßa Google Sheet b·∫°n!
    // V√≠ d·ª•: const SHEET_URL = "https://opensheet.vercel.app/1abcXYZ12345abcdEfgh-YourID/Sheet1";
    const SHEET_URL = "https://opensheet.vercel.app/1zyWWUm7yJS5yD2TwLhezVwnqBtF7Ka-TVraZWuyVJb4/Sheet1";

    let allDocs = [];
    const phases = [
      { name: "MVP", sections: [] },
      { name: "Ch√≠nh th·ª©c - Giai ƒëo·∫°n 1", sections: [] },
      { name: "Ch√≠nh th·ª©c - Giai ƒëo·∫°n 2", sections: [] },
      { name: "Ch√≠nh th·ª©c - Giai ƒëo·∫°n 3", sections: [] }
    ];

    async function fetchDocs() {
      try {
        const res = await fetch(SHEET_URL);
        const data = await res.json();
        allDocs = data;
        renderDocs();
      } catch (e) {
        document.getElementById('docsList').innerHTML = "<p style='color:#fa3d63'>Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu t·ª´ Google Sheet.<br>Ki·ªÉm tra l·∫°i link ho·∫∑c quy·ªÅn chia s·∫ª!</p>";
      }
    }

    function renderDocs() {
  // L·∫•y gi√° tr·ªã filter
  const keyword = (document.getElementById('searchInput')?.value || '').toLowerCase();
  const phaseFilter = document.getElementById('phaseFilter')?.value || "";
  const sectionFilter = document.getElementById('sectionFilter')?.value || "";

  let html = "";
  phases.forEach(p => p.sections = []);
  allDocs.forEach(doc => {
    if (!doc.phase || !doc.title) return;

    // Ki·ªÉm tra t·ª´ng lo·∫°i filter
    if (phaseFilter && doc.phase !== phaseFilter) return;
    if (sectionFilter && doc.section !== sectionFilter) return;
    const str = `${doc.title} ${doc.desc || ""}`.toLowerCase();
    if (keyword && !str.includes(keyword)) return;

    let phase = phases.find(p => p.name === doc.phase);
    if (phase) phase.sections.push(doc);
  });

  phases.forEach(phase => {
    if (!phase.sections.length) return;
    html += `<div class="phase-group"><div class="phase-title"><strong>${phase.name}</strong></div>`;
    phase.sections.forEach(doc => {
      html += `
        <div class="docs-card">
          <img src="${doc.img || 'https://placehold.co/56x56/23272c/1db954?text=Doc'}" alt="Docs">
          <div class="docs-meta">
            <h4>${doc.title} <span class="badge">${doc.section}</span></h4>
            <p>${(doc.desc || '').replace(/\n/g, '<br>')}</p>
            <a class="docs-link" href="${doc.link}" target="_blank" rel="noopener">üîó Xem t√†i li·ªáu</a>
          </div>
        </div>
      `;
    });
    html += "</div>";
  });

  if (!html) html = '<p style="color:#888">Ch∆∞a c√≥ t√†i li·ªáu n√†o, ho·∫∑c kh√¥ng c√≥ t√†i li·ªáu ph√π h·ª£p v·ªõi b·ªô l·ªçc.</p>';
  document.getElementById('docsList').innerHTML = html;
}


    // Search
    // L·∫Øng nghe thay ƒë·ªïi c·∫£ 3 input
document.getElementById('phaseFilter').onchange =
document.getElementById('sectionFilter').onchange =
document.getElementById('searchInput').oninput = function() {
  renderDocs();
    };

    // L·∫•y d·ªØ li·ªáu l·∫ßn ƒë·∫ßu
    fetchDocs();

    // === GHI CH√ö QUAN TR·ªåNG ===
    // 1. B·∫°n th√™m/xo√°/s·ª≠a docs ·ªü file Google Sheet (ch·ªâ m√¨nh b·∫°n quy·ªÅn edit).
    // 2. C√°c th√†nh vi√™n ch·ªâ m·ªü web n√†y l√† t·ª± th·∫•y d·ªØ li·ªáu m·ªõi nh·∫•t.
    // 3. N·∫øu docs kh√¥ng hi·ªán ra, h√£y ki·ªÉm tra: Sheet ƒë√£ chia s·∫ª Anyone can view? ƒê√∫ng t√™n Sheet? ƒê√∫ng link opensheet ch∆∞a?
    // 4. Sheet ph·∫£i c√≥ c√°c c·ªôt ƒë√∫ng t√™n: phase, section, title, desc, link, img.
  </script>
</body>
</html>
